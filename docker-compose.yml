services:
  backend:
    build: ./Atelier1.0
    container_name: backend
    ports:
      - "5000:5000"
    environment:
      NODE_ENV: ${NODE_ENV:-development}
      PORT: ${PORT:-5000}
      DB_HOST: ${DB_HOST:-localhost}
      DB_PORT: ${DB_PORT:-27017}
      DB_NAME: ${DB_NAME:-todo_db}
      JWT_SECRET: ${JWT_SECRET:-changeme}

  frontend:
    build: ./frontend
    container_name: frontend
    ports:
      - "3000:3000"
    environment:
      REACT_APP_API_URL: ${REACT_APP_API_URL:-http://localhost:5000}
      REACT_APP_ENV: ${REACT_APP_ENV:-development}